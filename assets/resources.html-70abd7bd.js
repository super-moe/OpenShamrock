import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as n,c as o,a as t,d as e,b as a,e as h}from"./app-7d3bcdc5.js";const c={},s={class:"hint-container warning"},l=t("p",{class:"hint-container-title"},"注意",-1),b=h('<h2 id="获取图片" tabindex="-1"><a class="header-anchor" href="#获取图片" aria-hidden="true">#</a> 获取图片</h2><p>该接口用于获取图片，只能获取已缓存的图片。</p><h3 id="api-端点" tabindex="-1"><a class="header-anchor" href="#api-端点" aria-hidden="true">#</a> API 端点</h3><p><code>/get_image</code></p><h3 id="参数" tabindex="-1"><a class="header-anchor" href="#参数" aria-hidden="true">#</a> 参数</h3><table><thead><tr><th>字段</th><th>类型</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>file</td><td>string</td><td>是</td><td>文件 MD5</td></tr></tbody></table><h3 id="响应" tabindex="-1"><a class="header-anchor" href="#响应" aria-hidden="true">#</a> 响应</h3><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>size</td><td>int64</td><td>文件大小</td></tr><tr><td>url</td><td>string</td><td>文件 URL</td></tr><tr><td>filename</td><td>string</td><td>文件 名称</td></tr></tbody></table>',8),p={id:"检查是否可以发送图片",tabindex:"-1"},_=t("a",{class:"header-anchor",href:"#检查是否可以发送图片","aria-hidden":"true"},"#",-1),f=h('<p>该接口用于检查是否可以发送图片。</p><h3 id="api-端点-1" tabindex="-1"><a class="header-anchor" href="#api-端点-1" aria-hidden="true">#</a> API 端点</h3><p><code>/can_send_image</code></p><h3 id="参数-1" tabindex="-1"><a class="header-anchor" href="#参数-1" aria-hidden="true">#</a> 参数</h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>该 API 无需参数</p></div><h3 id="响应-1" tabindex="-1"><a class="header-anchor" href="#响应-1" aria-hidden="true">#</a> 响应</h3><table><thead><tr><th>字段名</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>yes</td><td>boolean</td><td>是或否</td></tr></tbody></table>',7),x={id:"图片-ocr",tabindex:"-1"},g=t("a",{class:"header-anchor",href:"#图片-ocr","aria-hidden":"true"},"#",-1),u=h('<p>该接口用于图片 OCR。</p><h3 id="api-端点-2" tabindex="-1"><a class="header-anchor" href="#api-端点-2" aria-hidden="true">#</a> API 端点</h3><p><code>/ocr_image</code></p><h3 id="参数-2" tabindex="-1"><a class="header-anchor" href="#参数-2" aria-hidden="true">#</a> 参数</h3><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>image</td><td>string</td><td>图片ID</td></tr></tbody></table><h3 id="响应-2" tabindex="-1"><a class="header-anchor" href="#响应-2" aria-hidden="true">#</a> 响应</h3><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>texts</td><td>List&lt;<a href="#textdetection">TextDetection</a>&gt;</td><td>OCR结果</td></tr><tr><td>language</td><td>string</td><td>语言</td></tr></tbody></table><h4 id="textdetection" tabindex="-1"><a class="header-anchor" href="#textdetection" aria-hidden="true">#</a> TextDetection</h4><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>text</td><td>string</td><td>文本</td></tr><tr><td>confidence</td><td>int32</td><td>置信度</td></tr><tr><td>coordinates</td><td>vector2[]</td><td>二维数组表示的坐标</td></tr></tbody></table><h2 id="获取语音" tabindex="-1"><a class="header-anchor" href="#获取语音" aria-hidden="true">#</a> 获取语音</h2><p>该接口用于获取语音。</p><h3 id="api-端点-3" tabindex="-1"><a class="header-anchor" href="#api-端点-3" aria-hidden="true">#</a> API 端点</h3><p><code>/get_record</code></p><h3 id="参数-3" tabindex="-1"><a class="header-anchor" href="#参数-3" aria-hidden="true">#</a> 参数</h3><table><thead><tr><th>字段</th><th>类型</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>file</td><td>string</td><td>是</td><td>文件 MD5</td></tr><tr><td>out_format</td><td>string</td><td>是</td><td>输出格式</td></tr></tbody></table><h3 id="响应-3" tabindex="-1"><a class="header-anchor" href="#响应-3" aria-hidden="true">#</a> 响应</h3><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>file</td><td>string</td><td>文件路径</td></tr><tr><td>url</td><td>string</td><td>文件 URL</td></tr><tr><td>md5</td><td>string</td><td>文件md5,get_file的时候用这个较稳定，然后你程序如果是反向ws，可以用这个作为record的等待ident</td></tr></tbody></table>',17),y={id:"检查是否可以发送语音",tabindex:"-1"},m=t("a",{class:"header-anchor",href:"#检查是否可以发送语音","aria-hidden":"true"},"#",-1),A=h('<p>该接口用于检查是否可以发送语音。</p><h3 id="api-端点-4" tabindex="-1"><a class="header-anchor" href="#api-端点-4" aria-hidden="true">#</a> API 端点</h3><p><code>/can_send_record</code></p><h3 id="参数-4" tabindex="-1"><a class="header-anchor" href="#参数-4" aria-hidden="true">#</a> 参数</h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>该 API 无需参数</p></div><h3 id="响应-4" tabindex="-1"><a class="header-anchor" href="#响应-4" aria-hidden="true">#</a> 响应</h3><table><thead><tr><th>字段名</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td><code>yes</code></td><td>boolean</td><td>是或否</td></tr></tbody></table><h3 id="api-端点-5" tabindex="-1"><a class="header-anchor" href="#api-端点-5" aria-hidden="true">#</a> API 端点</h3><p><code>/get_record</code></p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>要使用此接口, 通常需要安装 ffmpeg, 请参考 OneBot 实现的相关说明。</p></div><h3 id="参数-5" tabindex="-1"><a class="header-anchor" href="#参数-5" aria-hidden="true">#</a> 参数</h3><table><thead><tr><th>字段名</th><th>数据类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>file</td><td>string</td><td>-</td><td>收到的语音文件名（消息段的 <code>file</code> 参数）, 如 <code>0B38145AA44505000B38145AA4450500.silk</code></td></tr><tr><td>out_format</td><td>string</td><td>-</td><td>要转换到的格式, 目前支持 <code>mp3</code>、<code>amr</code>、<code>wma</code>、<code>m4a</code>、<code>spx</code>、<code>ogg</code>、<code>wav</code>、<code>flac</code></td></tr></tbody></table><h3 id="响应-5" tabindex="-1"><a class="header-anchor" href="#响应-5" aria-hidden="true">#</a> 响应</h3><table><thead><tr><th>字段名</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>file</td><td>string</td><td>转换后的语音文件路径, 如 <code>/home/somebody/cqhttp/data/record/0B38145AA44505000B38145AA4450500.mp3</code></td></tr></tbody></table><h2 id="获取文件" tabindex="-1"><a class="header-anchor" href="#获取文件" aria-hidden="true">#</a> 获取文件</h2><p>该接口用于获取语音，哦当然，这个接口目前使用的是base64返回，主要为了照顾使用反向websocket的用户，如果是正向用户或者getpost用户，直接用/res/去拿数据更方便</p><p>如果你选择压缩，目前文本压缩性能较好，如果是音频或者视频，压缩率只有95.7%左右，大概只能节省5%的带宽，是否使用压缩获取可以自行考虑</p><h3 id="api-端点-6" tabindex="-1"><a class="header-anchor" href="#api-端点-6" aria-hidden="true">#</a> API 端点</h3><p><code>/get_file</code></p><h3 id="参数-6" tabindex="-1"><a class="header-anchor" href="#参数-6" aria-hidden="true">#</a> 参数</h3><table><thead><tr><th>字段</th><th>类型</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>file</td><td>string</td><td>是</td><td>文件 MD5</td></tr><tr><td>file_type</td><td>string</td><td>是</td><td>输出格式,支持base64</td></tr></tbody></table><h3 id="响应-6" tabindex="-1"><a class="header-anchor" href="#响应-6" aria-hidden="true">#</a> 响应</h3><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>file</td><td>string</td><td>文件路径,和get_record一样</td></tr><tr><td>base64String</td><td>string</td><td>文件 URL</td></tr><tr><td>md5</td><td>string</td><td>文件md5</td></tr></tbody></table>',23),v={id:"获取视频",tabindex:"-1"},I=t("a",{class:"header-anchor",href:"#获取视频","aria-hidden":"true"},"#",-1),B=t("p",null,"该接口用于获取视频。",-1),P={id:"获取缩略图",tabindex:"-1"},D=t("a",{class:"header-anchor",href:"#获取缩略图","aria-hidden":"true"},"#",-1),R=t("p",null,"该接口用于获取缩略图。",-1);function k(w,C){const d=i("Badge");return n(),o("div",null,[t("div",s,[l,t("p",null,[e("对于 Shamrock 尚未实现的 API，会在标题添加标记 "),a(d,{text:"未实现",type:"danger",vertical:"baseline"})])]),b,t("h2",p,[_,e(" 检查是否可以发送图片 "),a(d,{text:"未实现",type:"danger"})]),f,t("h2",x,[g,e(" 图片 OCR "),a(d,{text:"未实现",type:"danger"})]),u,t("h2",y,[m,e(" 检查是否可以发送语音 "),a(d,{text:"未实现",type:"danger"})]),A,t("h2",v,[I,e(" 获取视频 "),a(d,{text:"未实现",type:"danger"})]),B,t("h2",P,[D,e(" 获取缩略图 "),a(d,{text:"未实现",type:"danger"})]),R])}const O=r(c,[["render",k],["__file","resources.html.vue"]]);export{O as default};
